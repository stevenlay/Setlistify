[{"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\index.js":"1","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\App.js":"2","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\actions\\index.js":"3","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\actions\\types.js":"4","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\reducers\\index.js":"5","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\Header.js":"6","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\reducers\\authReducer.js":"7","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\reducers\\searchDetailsReducer.js":"8","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\reducers\\cookieReducer.js":"9","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\reducers\\searchReducer.js":"10","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\CreditCounter.js":"11","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\Landing.js":"12","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\ArtistDetails.js":"13","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\Payments.js":"14","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\Results.js":"15","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\ImportModal.js":"16","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\Search.js":"17","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\SetlistCard.js":"18"},{"size":587,"mtime":1611518165644,"results":"19","hashOfConfig":"20"},{"size":605,"mtime":1611373771879,"results":"21","hashOfConfig":"20"},{"size":1585,"mtime":1611370722929,"results":"22","hashOfConfig":"20"},{"size":241,"mtime":1611370741177,"results":"23","hashOfConfig":"20"},{"size":392,"mtime":1611370903201,"results":"24","hashOfConfig":"20"},{"size":1357,"mtime":1611520786739,"results":"25","hashOfConfig":"20"},{"size":263,"mtime":1611521219838,"results":"26","hashOfConfig":"20"},{"size":302,"mtime":1611521258611,"results":"27","hashOfConfig":"20"},{"size":271,"mtime":1611521235333,"results":"28","hashOfConfig":"20"},{"size":270,"mtime":1611521316231,"results":"29","hashOfConfig":"20"},{"size":171,"mtime":1611372738064,"results":"30","hashOfConfig":"20"},{"size":371,"mtime":1611372788176,"results":"31","hashOfConfig":"20"},{"size":1742,"mtime":1611373048848,"results":"32","hashOfConfig":"20"},{"size":696,"mtime":1611519425693,"results":"33","hashOfConfig":"20"},{"size":2835,"mtime":1611373028080,"results":"34","hashOfConfig":"20"},{"size":4672,"mtime":1611373142084,"results":"35","hashOfConfig":"20"},{"size":852,"mtime":1611373003397,"results":"36","hashOfConfig":"20"},{"size":1084,"mtime":1611372898474,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"envzad",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"40"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\index.js",[],["76","77"],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\App.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\actions\\index.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\actions\\types.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\reducers\\index.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\Header.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\reducers\\authReducer.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\reducers\\searchDetailsReducer.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\reducers\\cookieReducer.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\reducers\\searchReducer.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\CreditCounter.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\Landing.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\ArtistDetails.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\Payments.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\Results.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\ImportModal.js",["78"],"import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport SetlistCard from \"./SetlistCard\";\r\nimport * as actions from \"../actions\";\r\n\r\nclass ImportModal extends Component {\r\n  state = {\r\n    open: false,\r\n    loading: false,\r\n    done: this.props.false,\r\n    success: false,\r\n  };\r\n\r\n  show = (dimmer) => () => this.setState({ dimmer, open: true });\r\n  close = () => this.setState({ open: false, done: false });\r\n  loading = () => this.setState({ loading: true });\r\n  finished = () => this.setState({ loading: false, done: true });\r\n  success = () => this.setState({ success: true });\r\n\r\n  canImportSetlist = () => {\r\n    return this.props.auth.credits > 1;\r\n  };\r\n\r\n  //TODO: on successful request, then deduct a credit\r\n  importSetlist = () => {\r\n    this.loading();\r\n\r\n    console.log(this.props.search.nonEmptySetlists);\r\n    console.log({\r\n      setlists: this.props.search.nonEmptySetlists.slice(0, 2),\r\n      artistName: this.props.searchDetails.artist.name,\r\n      artistSpotifyId: this.props.searchDetails.artist.id,\r\n    });\r\n    setTimeout(() => {\r\n      this.finished();\r\n      this.success();\r\n      // this.props.handleCredit();\r\n    }, 2000);\r\n  };\r\n\r\n  renderSetlists = (setlist) => {\r\n    if (!this.props.search) {\r\n      return this.renderGeneralWarning(\"No search found\");\r\n    }\r\n\r\n    if (this.props.search.error === 404) {\r\n      return this.renderGeneralWarning(\"No artist found\");\r\n    }\r\n\r\n    return setlist.map((set, index) => (\r\n      <SetlistCard key={index} setlist={set} details={false} />\r\n    ));\r\n  };\r\n\r\n  renderDoneModal = (header, message, success) => {\r\n    const color = success ? \"green\" : \"red\";\r\n    return (\r\n      <>\r\n        <div>Modal</div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  renderDialogModal = () => {\r\n    return (\r\n      <>\r\n        {\" \"}\r\n        <p>\r\n          Would you like to import the setlist for{\" \"}\r\n          {this.props.searchDetails.artist.name}?\r\n          {!this.canImportSetlist() && (\r\n            <p className=\"warning\">\r\n              You don't have enough credits to import. Please buy more.\r\n            </p>\r\n          )}\r\n          {!this.state.loading && this.canImportSetlist() && (\r\n            <p className=\"success\">\r\n              You have enough credits to import this setlist.\r\n            </p>\r\n          )}\r\n        </p>\r\n        <p>\r\n          <div>\r\n            <h1 className=\"header\">Most recent sets: </h1>\r\n            <p>\r\n              {this.renderSetlists(\r\n                this.props.search.nonEmptySetlists.slice(0, 2)\r\n              )}\r\n              {this.state.loading && (\r\n                <div className=\"loader-card-container\">\r\n                  <p>\r\n                    <div className=\"ui active dimmer\">\r\n                      <div className=\"ui text loader\">Loading</div>\r\n                    </div>\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </p>\r\n          </div>\r\n        </p>\r\n        <p>\r\n          <p color=\"black\" onClick={this.close}>\r\n            No\r\n          </p>\r\n          {this.canImportSetlist() && (\r\n            <p\r\n              positive\r\n              icon=\"checkmark\"\r\n              labelPosition=\"right\"\r\n              content=\"Spend 1 Credit\"\r\n              onClick={this.importSetlist}\r\n            />\r\n          )}\r\n          {!this.canImportSetlist() && (\r\n            <p\r\n              icon=\"checkmark\"\r\n              labelPosition=\"right\"\r\n              content=\"Buy more credits\"\r\n              onClick={this.close}\r\n            />\r\n          )}\r\n        </p>\r\n      </>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { open, dimmer, done, success } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        {\r\n          <>\r\n            <p onClick={this.show(true)}>Import Setlist</p>\r\n\r\n            <p\r\n              dimmer={dimmer}\r\n              open={open}\r\n              onClose={this.close}\r\n              centered={false}\r\n            >\r\n              {done &&\r\n                success &&\r\n                this.renderDoneModal(\r\n                  \"Finished Importing\",\r\n                  \"Check your Spotify account for the playlist!\",\r\n                  true\r\n                )}\r\n\r\n              {done &&\r\n                !success &&\r\n                this.renderDoneModal(\r\n                  \"Error importing. Please try again.\",\r\n                  false\r\n                )}\r\n\r\n              {!done && this.renderDialogModal()}\r\n            </p>\r\n          </>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth, search, searchDetails }) => {\r\n  return { auth, search, searchDetails };\r\n};\r\n\r\nexport default connect(mapStateToProps, actions)(ImportModal);\r\n","C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\Search.js",[],"C:\\Users\\Steven\\Documents\\GitHub\\setlistify\\client\\src\\components\\SetlistCard.js",[],{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":56,"column":11,"nodeType":"85","messageId":"86","endLine":56,"endColumn":16},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],"no-unused-vars","'color' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]